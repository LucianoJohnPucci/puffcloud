<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Reddit Listener</title>
    <style>
        /* Basic styling for navigation and sections */
        nav {
            display: flex;
            background-color: #0341fc;
            padding: 1em;
        }
        nav a {
            color: white;
            padding: 0.5em 1em;
            text-decoration: none;
        }
        nav a:hover {
            background-color: #555;
        }
        section {
            display: none;
            padding: 20px;
        }
        #Graphs, #Email, #Data, #Video, #RandomReddit {
            display: none; /* Initially hide all sections */
        }
        /* Center content on the RandomReddit page */
        #random-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 60vh;
            font-size: 2em;
            text-align: center;
            padding: 20px;
        }
        /* Styling for the link frame at the bottom */
        #random-link-frame {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 20vh;
            border-top: 2px solid #ccc;
            font-size: 1.2em;
            padding: 10px;
            background-color: #f5f5f5;
        }
    </style>
    <script>
        function showSection(sectionId) {
            // Hide all sections
            document.querySelectorAll("section").forEach(sec => sec.style.display = "none");
            // Show the selected section
            document.getElementById(sectionId).style.display = "block";
            // Load data if RandomReddit is selected
            if (sectionId === "RandomReddit") {
                displayRandomReddit();
            }
        }

        // Function to fetch and display the randomly selected subreddit analysis in large font
        function displayRandomReddit() {
            const url = './GitHubRandomReddit.json'; // Ensure this path is correct

            fetch(url)
                .then(response => {
                    if (!response.ok) {
                        throw new Error(`HTTP error! Status: ${response.status}`);
                    }
                    return response.json();
                })
                .then(data => {
                    if (Array.isArray(data) && data.length > 0) {
                        const item = data[0]; // Display the first item in GitHubRandomReddit.json
                        const content = `
                            <p><strong>Subreddit:</strong> ${item.Subreddit || "N/A"}</p>
                            <p><strong>Title:</strong> ${item.Title || "N/A"}</p>
                            <p><strong>Comments Per Day:</strong> ${item.CommentsPerDay !== null ? item.CommentsPerDay : "N/A"}</p>
                            <p><strong>Number of Comments:</strong> ${item.NumberOfComments !== null ? item.NumberOfComments : "N/A"}</p>
                        `;
                        document.getElementById("random-content").innerHTML = content;
                        document.getElementById("random-link-frame").innerHTML = item.PostLink 
                            ? `<a href="${item.PostLink}" target="_blank">${item.PostLink}</a>`
                            : "No link available";
                    } else {
                        document.getElementById("random-content").textContent = "No data available";
                        document.getElementById("random-link-frame").textContent = "No link available";
                    }
                })
                .catch(error => {
                    console.error("Error fetching random subreddit data:", error);
                    document.getElementById("random-content").textContent = "Error loading data";
                    document.getElementById("random-link-frame").textContent = "Error loading link";
                });
        }
    </script>
</head>
<body>
    <!-- Navigation Bar -->
    <nav>
        <a href="#" onclick="showSection('Data')">Data</a>
        <a href="#" onclick="showSection('Graphs')">Graphs</a>
        <a href="#" onclick="showSection('Email')">Email it to Me</a>
        <a href="#" onclick="showSection('Video')">Video</a>
        <a href="#" onclick="showSection('RandomReddit')">Random Reddit Analysis</a>
    </nav>

    <!-- Sections for each page -->
    <section id="Graphs" style="width: 100%; height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center;">
        <h2>Graphs</h2>
        <embed src="./EntireSheetLandscape.pdf" type="application/pdf" style="width: 100vw; height: calc(100vh - 100px); max-width: 100%; border: none;">
        <a href="./EntireSheetLandscape.pdf" target="_blank">Download Chart PDF</a>
    </section>

    <section id="Email">
        <h2>Email it to Me</h2>
        <button onclick="emailData()">Request Data via Email</button>
    </section>

    <section id="Data">
        <h2>Data</h2>
        <!-- Placeholder for Data content -->
    </section>

    <section id="Video">
        <h2>Video</h2>
        <div class="window" id="youtube">
            <h2>YouTube Video</h2>
            <iframe width="80%" height="80%" src="https://www.youtube.com/embed/dQw4w9WgXcQ" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>
    </section>

    <!-- New Section for Random Reddit Analysis in large font -->
    <section id="RandomReddit">
        <div id="random-content">
            Loading...
        </div>
        <div id="random-link-frame">
            Loading link...
        </div>
    </section>

    <script>
        function emailData() {
            alert("Functionality to email data will be implemented here.");
        }
    </script>
</body>
</html>
